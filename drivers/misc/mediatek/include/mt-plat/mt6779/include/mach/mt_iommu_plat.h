/*
 * Copyright (C) 2016 MediaTek Inc.
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 2 as
 * published by the Free Software Foundation.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
 * See http://www.gnu.org/licenses/gpl-2.0.html for more details.
 */

#ifndef __MT_IOMMU_PLAT_H__
#define __MT_IOMMU_PLAT_H__
/*
 * this header file is only used for mtk_iomm module
 * the definition of header file is platform dependency.
 */

struct mtk_iommu_port {
	char *name;
	unsigned m4u_id: 2;
	unsigned m4u_slave: 2;
	unsigned larb_id: 4;
	unsigned larb_port: 8;
	unsigned tf_id: 12;     /* 12 bits */
	bool enable_tf;
	mtk_iommu_fault_callback_t fault_fn;
	void *fault_data;
};

#define MTK_IOMMU_PORT_INIT(name, slave, larb_inx, tf_larb_id, port)  {\
		name, 0, slave, larb_inx, port,\
		(((tf_larb_id)<<7)|((port)<<2)), 1\
}

struct mtk_iommu_port iommu_port[] = {
	/* larb0 -MMSYS-9 */
	MTK_IOMMU_PORT_INIT("DISP_POSTMASK0", 0, 0, 0, 0),
	MTK_IOMMU_PORT_INIT("DISP_OVL0_HDR", 0, 0, 0, 1),
	MTK_IOMMU_PORT_INIT("DISP_OVL1_HDR", 0, 0, 0, 2),
	MTK_IOMMU_PORT_INIT("DISP_OVL0", 0, 0, 0, 3),
	MTK_IOMMU_PORT_INIT("DISP_OVL1", 0, 0, 0, 4),
	MTK_IOMMU_PORT_INIT("DISP_PVRIC0", 0, 0, 0, 5),
	MTK_IOMMU_PORT_INIT("DISP_RDMA0", 0, 0, 0, 6),
	MTK_IOMMU_PORT_INIT("DISP_WDMA0", 0, 0, 0, 7),
	MTK_IOMMU_PORT_INIT("DISP_FAKE0", 0, 0, 0, 8),
	/*larb1-MMSYS-14*/
	MTK_IOMMU_PORT_INIT("DISP_OVL0_2L_HDR", 0, 1, 4, 0),
	MTK_IOMMU_PORT_INIT("DISP_OVL1_2L_HDR", 0, 1, 4, 1),
	MTK_IOMMU_PORT_INIT("DISP_OVL0_2L", 0, 1, 4, 2),
	MTK_IOMMU_PORT_INIT("DISP_OVL1_2L", 0, 1, 4, 3),
	MTK_IOMMU_PORT_INIT("DISP_RDMA1", 0, 1, 4, 4),
	MTK_IOMMU_PORT_INIT("MDP_PVRIC0", 0, 1, 4, 5),
	MTK_IOMMU_PORT_INIT("MDP_PVRIC1", 0, 1, 4, 6),
	MTK_IOMMU_PORT_INIT("MDP_RDMA0", 0, 1, 4, 7),
	MTK_IOMMU_PORT_INIT("MDP_RDMA1", 0, 1, 4, 8),
	MTK_IOMMU_PORT_INIT("MDP_WROT0_R", 0, 1, 4, 9),
	MTK_IOMMU_PORT_INIT("MDP_WROT0_W", 0, 1, 4, 10),
	MTK_IOMMU_PORT_INIT("MDP_WROT1_R", 0, 1, 4, 11),
	MTK_IOMMU_PORT_INIT("MDP_WROT1_W", 0, 1, 4, 12),
	MTK_IOMMU_PORT_INIT("DISP_FAKE1", 0, 1, 4, 13),
	/*larb2-VDEC-12*/
	MTK_IOMMU_PORT_INIT("VDEC_MC_EXT", 0, 2, 8, 0),
	MTK_IOMMU_PORT_INIT("VDEC_UFO_EXT", 0, 2, 8, 1),
	MTK_IOMMU_PORT_INIT("VDEC_PP_EXT", 0, 2, 8, 2),
	MTK_IOMMU_PORT_INIT("VDEC_PRED_RD_EXT", 0, 2, 8, 3),
	MTK_IOMMU_PORT_INIT("VDEC_PRED_WR_EXT", 0, 2, 8, 4),
	MTK_IOMMU_PORT_INIT("VDEC_PPWRAP_EXT", 0, 2, 8, 5),
	MTK_IOMMU_PORT_INIT("VDEC_TILE_EXT", 0, 2, 8, 6),
	MTK_IOMMU_PORT_INIT("VDEC_VLD_EXT", 0, 2, 8, 7),
	MTK_IOMMU_PORT_INIT("VDEC_VLD2_EXT", 0, 2, 8, 8),
	MTK_IOMMU_PORT_INIT("VDEC_AVC_MV_EXT", 0, 2, 8, 9),
	MTK_IOMMU_PORT_INIT("VDEC_UFO_ENC_EXT", 0, 2, 8, 10),
	MTK_IOMMU_PORT_INIT("VDEC_RG_CTRL_DMA_EXT", 0, 2, 8, 11),
	/*larb3-VENC-19*/
	MTK_IOMMU_PORT_INIT("VENC_RCPU", 0, 3, 12, 0),
	MTK_IOMMU_PORT_INIT("VENC_REC", 0, 3, 12, 1),
	MTK_IOMMU_PORT_INIT("VENC_BSDMA", 0, 3, 12, 2),
	MTK_IOMMU_PORT_INIT("VENC_SV_COMV", 0, 3, 12, 3),
	MTK_IOMMU_PORT_INIT("VENC_RD_COMV", 0, 3, 12, 4),

	MTK_IOMMU_PORT_INIT("VENC_NBM_RDMA", 0, 3, 12, 5),
	MTK_IOMMU_PORT_INIT("VENC_NBM_RDMA_LITE", 0, 3, 12, 6),
	MTK_IOMMU_PORT_INIT("JPGENC_Y_RDMA", 0, 3, 12, 7),
	MTK_IOMMU_PORT_INIT("JPGENC_C_RDMA", 0, 3, 12, 8),
	MTK_IOMMU_PORT_INIT("JPGENC_Q_TABLE", 0, 3, 12, 9),

	MTK_IOMMU_PORT_INIT("JPGENC_BSDMA", 0, 3, 12, 10),
	MTK_IOMMU_PORT_INIT("JPGEDC_WDMA", 0, 3, 12, 11),
	MTK_IOMMU_PORT_INIT("JPGEDC_BSDMA", 0, 3, 12, 12),
	MTK_IOMMU_PORT_INIT("VENC_NBM_WDMA", 0, 3, 12, 13),
	MTK_IOMMU_PORT_INIT("VENC_NBM_WDMA_LITE", 0, 3, 12, 14),

	MTK_IOMMU_PORT_INIT("VENC_CUR_LUMA", 0, 3, 12, 15),
	MTK_IOMMU_PORT_INIT("VENC_CUR_CHROMA", 0, 3, 12, 16),
	MTK_IOMMU_PORT_INIT("VENC_REF_LUMA", 0, 3, 12, 17),
	MTK_IOMMU_PORT_INIT("VENC_REF_CHROMA", 0, 3, 12, 18),
	/*larb4-dummy*/

	/*larb5-IMG-26*/
	MTK_IOMMU_PORT_INIT("IMGI_D1", 0, 5, 16, 0),
	MTK_IOMMU_PORT_INIT("IMGBI_D1", 0, 5, 16, 1),
	MTK_IOMMU_PORT_INIT("DMGI_D1", 0, 5, 16, 2),
	MTK_IOMMU_PORT_INIT("DEPI_D1", 0, 5, 16, 3),
	MTK_IOMMU_PORT_INIT("LCEI_D1", 0, 5, 16, 4),
	MTK_IOMMU_PORT_INIT("SMTI_D1", 0, 5, 16, 5),
	MTK_IOMMU_PORT_INIT("SMTO_D2", 0, 5, 16, 6),
	MTK_IOMMU_PORT_INIT("SMTO_D1", 0, 5, 16, 7),
	MTK_IOMMU_PORT_INIT("CRZO_D1", 0, 5, 16, 8),
	MTK_IOMMU_PORT_INIT("IMG3O_D1", 0, 5, 16, 9),

	MTK_IOMMU_PORT_INIT("VIPI_D1", 0, 5, 16, 10),
	MTK_IOMMU_PORT_INIT("WPE_RDMA1", 0, 5, 16, 11),
	MTK_IOMMU_PORT_INIT("WPE_RDMA0", 0, 5, 16, 12),
	MTK_IOMMU_PORT_INIT("WPE_WDMA", 0, 5, 16, 13),
	MTK_IOMMU_PORT_INIT("TMIGO_D1", 0, 5, 16, 14),
	MTK_IOMMU_PORT_INIT("MFB_RDMA0", 0, 5, 16, 15),
	MTK_IOMMU_PORT_INIT("MFB_RDMA1", 0, 5, 16, 16),
	MTK_IOMMU_PORT_INIT("MFB_RDMA2", 0, 5, 16, 17),
	MTK_IOMMU_PORT_INIT("MFB_RDMA3", 0, 5, 16, 18),
	MTK_IOMMU_PORT_INIT("MFB_WDMA", 0, 5, 16, 19),

	MTK_IOMMU_PORT_INIT("RESERVE1", 0, 5, 16, 20),
	MTK_IOMMU_PORT_INIT("RESERVE2", 0, 5, 16, 21),
	MTK_IOMMU_PORT_INIT("RESERVE3", 0, 5, 16, 22),
	MTK_IOMMU_PORT_INIT("RESERVE4", 0, 5, 16, 23),
	MTK_IOMMU_PORT_INIT("RESERVE5", 0, 5, 16, 24),
	MTK_IOMMU_PORT_INIT("RESERVE6", 0, 5, 16, 25),

	/*larb6-IMG-3
	 *MTK_IOMMU_PORT_INIT("IMG_IPUO", 0, 6, 3, 0),
	 *MTK_IOMMU_PORT_INIT("IMG_IPU3O", 0, 6, 3, 1),
	 *MTK_IOMMU_PORT_INIT("IMG_IPUI,", 0, 6, 3, 2),
	 */

	/*larb7-IPESYS-4*/
	MTK_IOMMU_PORT_INIT("DVS_RDMA", 0, 7, 20, 0),
	MTK_IOMMU_PORT_INIT("DVS_WDMA", 0, 7, 20, 1),
	MTK_IOMMU_PORT_INIT("DVP_RDMA,", 0, 7, 20, 2),
	MTK_IOMMU_PORT_INIT("DVP_WDMA,", 0, 7, 20, 3),

	/*larb8-IPESYS-10*/
	MTK_IOMMU_PORT_INIT("FDVT_RDA", 0, 8, 21, 0),
	MTK_IOMMU_PORT_INIT("FDVT_RDB", 0, 8, 21, 1),
	MTK_IOMMU_PORT_INIT("FDVT_WRA", 0, 8, 21, 2),
	MTK_IOMMU_PORT_INIT("FDVT_WRB", 0, 8, 21, 3),
	MTK_IOMMU_PORT_INIT("FE_RD0", 0, 8, 21, 4),
	MTK_IOMMU_PORT_INIT("FE_RD1", 0, 8, 21, 5),
	MTK_IOMMU_PORT_INIT("FE_WR0", 0, 8, 21, 6),
	MTK_IOMMU_PORT_INIT("FE_WR1", 0, 8, 21, 7),
	MTK_IOMMU_PORT_INIT("RSC_RDMA0", 0, 8, 21, 8),
	MTK_IOMMU_PORT_INIT("RSC_WDMA", 0, 8, 21, 9),

	/*larb9-CAM-24*/
	MTK_IOMMU_PORT_INIT("CAM_IMGO_C", 0, 9, 28, 0),
	MTK_IOMMU_PORT_INIT("CAM_RRZO_C", 0, 9, 28, 1),
	MTK_IOMMU_PORT_INIT("CAM_LSCI_C", 0, 9, 28, 2),
	MTK_IOMMU_PORT_INIT("CAM_BPCI_C", 0, 9, 28, 3),
	MTK_IOMMU_PORT_INIT("CAM_IMGCO_C", 0, 9, 28, 4),
	MTK_IOMMU_PORT_INIT("CAM_PDI_C", 0, 9, 28, 5),
	MTK_IOMMU_PORT_INIT("CAM_CRZO_C", 0, 9, 28, 6),
	MTK_IOMMU_PORT_INIT("CAM_CRZO_R2_C", 0, 9, 28, 7),
	MTK_IOMMU_PORT_INIT("CAM_CAMSV_1", 0, 9, 28, 8),
	MTK_IOMMU_PORT_INIT("CAM_CAMSV_2", 0, 9, 28, 9),

	MTK_IOMMU_PORT_INIT("CAM_CAMSV_3", 0, 9, 28, 10),
	MTK_IOMMU_PORT_INIT("CAM_CAMSV_4", 0, 9, 28, 11),
	MTK_IOMMU_PORT_INIT("CAM_CAMSV_5", 0, 9, 28, 12),
	MTK_IOMMU_PORT_INIT("CAM_CAMSV_6", 0, 9, 28, 13),
	MTK_IOMMU_PORT_INIT("CAM_MQEO_C", 0, 9, 28, 14),
	MTK_IOMMU_PORT_INIT("CAM_AFO_C", 0, 9, 28, 15),
	MTK_IOMMU_PORT_INIT("CAM_PDO_C", 0, 9, 28, 16),
	MTK_IOMMU_PORT_INIT("CAM_RAWI_C", 0, 9, 28, 17),
	MTK_IOMMU_PORT_INIT("CAM_RAWI_R4_C", 0, 9, 28, 18),
	MTK_IOMMU_PORT_INIT("CAM_LCESO_C", 0, 9, 28, 19),

	MTK_IOMMU_PORT_INIT("CAM_RSSO_C", 0, 9, 28, 20),
	MTK_IOMMU_PORT_INIT("CAM_CCUI", 0, 9, 28, 21),
	MTK_IOMMU_PORT_INIT("CAM_CCUO", 0, 9, 28, 22),
	MTK_IOMMU_PORT_INIT("CAM_FAKE", 0, 9, 28, 23),

	/*larb10-CAM-31*/
	MTK_IOMMU_PORT_INIT("CAM_IMGO_A", 0, 10, 25, 0),
	MTK_IOMMU_PORT_INIT("CAM_RRZO_A", 0, 10, 25, 1),
	MTK_IOMMU_PORT_INIT("CAM_LSCI_A", 0, 10, 25, 2),
	MTK_IOMMU_PORT_INIT("CAM_BPCI_A", 0, 10, 25, 3),
	MTK_IOMMU_PORT_INIT("CAM_IMGCO_A", 0, 10, 25, 4),
	MTK_IOMMU_PORT_INIT("CAM_PDI_A", 0, 10, 25, 5),
	MTK_IOMMU_PORT_INIT("CAM_CRZO_A", 0, 10, 25, 6),
	MTK_IOMMU_PORT_INIT("CAM_CRZO_R2_A", 0, 10, 25, 7),
	MTK_IOMMU_PORT_INIT("CAM_IMGO_B", 0, 10, 25, 8),
	MTK_IOMMU_PORT_INIT("CAM_RRZO_B", 0, 10, 25, 9),

	MTK_IOMMU_PORT_INIT("CAM_LSCI_B", 0, 10, 25, 10),
	MTK_IOMMU_PORT_INIT("CAM_BPCI_B", 0, 10, 25, 11),
	MTK_IOMMU_PORT_INIT("CAM_IMGCO_B,", 0, 10, 25, 12),
	MTK_IOMMU_PORT_INIT("CAM_PDI_B", 0, 10, 25, 13),
	MTK_IOMMU_PORT_INIT("CAM_CRZO_B", 0, 10, 25, 14),
	MTK_IOMMU_PORT_INIT("CAM_CRZO_R2_B", 0, 10, 25, 15),
	MTK_IOMMU_PORT_INIT("CAM_CAMSV_0", 0, 10, 25, 16),
	MTK_IOMMU_PORT_INIT("CAM_MQEO_A", 0, 10, 25, 17),
	MTK_IOMMU_PORT_INIT("CAM_AFO_A", 0, 10, 25, 18),
	MTK_IOMMU_PORT_INIT("CAM_PDO_A", 0, 10, 25, 19),

	MTK_IOMMU_PORT_INIT("CAM_RAWI_A", 0, 10, 25, 20),
	MTK_IOMMU_PORT_INIT("CAM_RAWI_R4_A", 0, 10, 25, 21),
	MTK_IOMMU_PORT_INIT("CAM_MQEO_B", 0, 10, 25, 22),
	MTK_IOMMU_PORT_INIT("CAM_AFO_B", 0, 10, 25, 23),
	MTK_IOMMU_PORT_INIT("CAM_PDO_B", 0, 10, 25, 24),
	MTK_IOMMU_PORT_INIT("CAM_RAWI_B", 0, 10, 25, 25),
	MTK_IOMMU_PORT_INIT("CAM_RAWI_R4_B", 0, 10, 25, 26),
	MTK_IOMMU_PORT_INIT("CAM_LCESO_A", 0, 10, 25, 27),
	MTK_IOMMU_PORT_INIT("CAM_RSSO_A", 0, 10, 25, 28),
	MTK_IOMMU_PORT_INIT("CAM_LCESO_B", 0, 10, 25, 29),
	MTK_IOMMU_PORT_INIT("CAM_RSSO_B", 0, 10, 25, 30),

	/*larb11-CAM-5
	 *MTK_IOMMU_PORT_INIT("CAM_IPUO", 0, 11, 3, 0),
	 *MTK_IOMMU_PORT_INIT("CAM_IPU2O", 0, 11, 3, 1),
	 *MTK_IOMMU_PORT_INIT("CAM_IPU3O", 0, 11, 3, 2),
	 *MTK_IOMMU_PORT_INIT("CAM_IPUI", 0, 11, 3, 3),
	 *MTK_IOMMU_PORT_INIT("CAM_IPU2I", 0, 11, 3, 4),
	 */

	MTK_IOMMU_PORT_INIT("CCU0", 0, 9, 24, 0),
	MTK_IOMMU_PORT_INIT("CCU1", 0, 9, 24, 1),

	MTK_IOMMU_PORT_INIT("VPU", 0, 13, 0, 0),

	MTK_IOMMU_PORT_INIT("UNKNOWN", 0, 0, 0, 0)
};

#endif
